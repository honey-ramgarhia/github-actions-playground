name: Playground

on:
  push:
    branch: [master, dev]

env:
  BRANCH_NAME: ${{ github.ref }}

jobs:
  test-job:
    runs-on: ubuntu-latest
    steps:
      - id: set-vars
        run: |
          declare greet
          if [[ ${{ github.ref }} == 'refs/heads/dev' ]]; then
            echo '::set-output name=greet::hello'
          else
            echo '::set-output name=greet::welcome'
          fi
      - run: echo ${{ steps.set-vars.outputs.greet }}
      - run: echo ${{ github.ref }}
      - run: echo ${{ github.head_ref }}
      - run: echo ${{ github.ref }} | sed -e "s#refs/heads/##g"
      - run: echo "BRANCH_NAME=$(echo ${{ github.ref }} | sed -e "s#refs/heads/##g")" >> $GITHUB_ENV
      - run: echo hello
      - run: echo $BRANCH_NAME
